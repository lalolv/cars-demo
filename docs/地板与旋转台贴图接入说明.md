# 地板与旋转台贴图接入说明（混合材质）

本文对应以下混合 Shader：
- `res://shaders/floor_tiles.gdshader`
- `res://shaders/stage_edge_ring.gdshader`

两者都支持：
- 无贴图：`use_albedo_texture = false`，走程序化效果。
- 有贴图：`use_albedo_texture = true`，优先使用贴图（可通过 `texture_blend` 与程序化混合）。

## 1. 贴图准备规则

### 1.1 文件与命名
- 建议目录：`res://assets/textures/showroom/`
- 建议命名：
  - `floor_albedo.png`
  - `stage_albedo.png`

### 1.2 分辨率与格式
- 移动端建议：`1024x1024` 起步；质量优先可用 `2048x2048`。
- 格式建议：`PNG`（无损）或 `JPG`（体积更小）。
- 比例：正方形（`1:1`）最容易平铺。

### 1.3 内容要求
- 地板贴图必须是无缝（seamless/tileable）。
- 旋转台贴图建议中心区域纹理均匀，避免径向拉伸太明显。
- 避免过高对比与过细高频细节（移动端容易闪烁）。

## 2. 导入设置（Godot Import）

对每张贴图在 Import 面板设置：
1. `Repeat` 开启（让平铺生效）。
2. `Filter` 开启（降低锯齿闪烁）。
3. `Mipmaps` 开启（远处更稳定）。
4. 点击 `Reimport`。

## 3. 地板（FloorOuter）接入步骤

1. 打开 `scenes/main.tscn`。
2. 选中节点 `FloorOuter`。
3. 在 `material_override` 里打开 `ShaderMaterial3D_floor_tiles` 参数。
4. 设置：
   - `shader_parameter/use_albedo_texture = true`
   - `shader_parameter/albedo_texture = res://assets/textures/showroom/floor_albedo.png`
5. 调整平铺：
   - `shader_parameter/texture_tile_size`
   - 数值越小，贴图重复越密；数值越大，贴图越大块。
6. 调整融合：
   - `shader_parameter/texture_blend = 1.0` 表示完全贴图
   - `0.0 ~ 1.0` 可与程序化效果混合

推荐起始值：
- `texture_tile_size = 1.4`
- `texture_blend = 1.0`

## 4. 旋转台（Stage/Platform）接入步骤

1. 打开 `scenes/main.tscn`。
2. 选中节点 `Stage/Platform`。
3. 在 `material_override` 里打开 `ShaderMaterial3D_stage_ring` 参数。
4. 设置：
   - `shader_parameter/use_albedo_texture = true`
   - `shader_parameter/albedo_texture = res://assets/textures/showroom/stage_albedo.png`
5. 调整 UV：
   - `shader_parameter/texture_uv_scale`
   - `shader_parameter/texture_uv_offset`
6. 调整融合：
   - `shader_parameter/texture_blend = 1.0`（完全贴图）

推荐起始值：
- `texture_uv_scale = 1.0`
- `texture_uv_offset = (0, 0)`
- `texture_blend = 1.0`

## 5. 常见问题排查

- 贴图看起来没生效：
  - 检查 `use_albedo_texture` 是否为 `true`。
  - 检查 `albedo_texture` 是否已绑定。
- 贴图只显示一次、不平铺：
  - 检查 Import 的 `Repeat` 是否开启。
- 贴图发糊或闪烁：
  - 检查 `Filter`/`Mipmaps` 是否开启。
  - 降低贴图高频细节，或提高分辨率。
- 想切回程序化：
  - 将 `use_albedo_texture` 设回 `false`。

## 6. 当前项目默认参数位置

- 地板参数：`scenes/main.tscn` 中 `ShaderMaterial3D_floor_tiles`
- 旋转台参数：`scenes/main.tscn` 中 `ShaderMaterial3D_stage_ring`

